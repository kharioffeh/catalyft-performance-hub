# Memory-optimized Gradle configuration
# Reduces memory usage by limiting architectures and optimizations

# Maximum memory allocation
org.gradle.jvmargs=-Xmx8192m -XX:MaxMetaspaceSize=2048m -XX:+HeapDumpOnOutOfMemoryError -XX:+UseG1GC -Dkotlin.compiler.execution.strategy=in-process -XX:+UseStringDeduplication

# Conservative settings
org.gradle.parallel=false
org.gradle.daemon=true
org.gradle.configureondemand=true
org.gradle.caching=false

# Kotlin settings
kotlin.compiler.execution.strategy=in-process
kotlin.incremental=false
kotlin.incremental.useClasspathSnapshot=false

# Android settings
android.useAndroidX=true
android.enableJetifier=true

# Reduce architectures to save memory (only ARM64 for production)
reactNativeArchitectures=arm64-v8a

# Disable unnecessary features
android.enablePngCrunchInReleaseBuilds=false
android.enableShrinkResourcesInReleaseBuilds=true
expo.gif.enabled=false
expo.webp.enabled=false
expo.webp.animated=false

# Use Expo-compatible Kotlin version
kotlin.version=1.7.10
kotlin.compiler.version=1.7.10
kotlin.stdlib.version=1.7.10
android.kotlinVersion=1.7.10

# Android build settings
android.minSdkVersion=23
android.compileSdkVersion=34
android.targetSdkVersion=34
android.buildToolsVersion=34.0.0

# Disable new architecture to save memory
newArchEnabled=false
hermesEnabled=true