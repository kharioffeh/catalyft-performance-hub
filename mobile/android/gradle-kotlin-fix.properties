# Kotlin Fix Gradle configuration
# Fixes Kotlin compilation reflection issues

# Conservative memory allocation
org.gradle.jvmargs=-Xmx6144m -XX:MaxMetaspaceSize=1536m -XX:+UseG1GC -Dkotlin.compiler.execution.strategy=in-process -XX:+UseStringDeduplication

# Disable parallel processing to avoid reflection issues
org.gradle.parallel=false
org.gradle.daemon=false
org.gradle.configureondemand=false
org.gradle.caching=false

# Kotlin settings - fix reflection issues
kotlin.compiler.execution.strategy=in-process
kotlin.incremental=false
kotlin.incremental.useClasspathSnapshot=false
kotlin.incremental.android=false

# Android settings
android.useAndroidX=true
android.enableJetifier=true

# Single architecture only
reactNativeArchitectures=arm64-v8a

# Disable unnecessary features
android.enablePngCrunchInReleaseBuilds=false
android.enableShrinkResourcesInReleaseBuilds=false
expo.gif.enabled=false
expo.webp.enabled=false
expo.webp.animated=false
EX_DEV_CLIENT_NETWORK_INSPECTOR=false

# Use stable Kotlin version (not latest)
kotlin.version=1.8.10
kotlin.compiler.version=1.8.10
kotlin.stdlib.version=1.8.10
android.kotlinVersion=1.8.10

# Android build settings
android.minSdkVersion=23
android.compileSdkVersion=34
android.targetSdkVersion=34
android.buildToolsVersion=34.0.0

# Disable new architecture
newArchEnabled=false
hermesEnabled=true

# Disable R8 to avoid reflection issues
android.enableR8.fullMode=false
android.enableD8.desugaring=false
android.enableProguardInReleaseBuilds=false
android.enableR8=false
android.enableD8=false

# Additional Kotlin fixes
kotlin.incremental=false
kotlin.incremental.useClasspathSnapshot=false
kotlin.incremental.android=false
kotlin.incremental.js=false
kotlin.incremental.multiplatform=false